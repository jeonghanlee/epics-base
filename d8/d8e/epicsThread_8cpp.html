<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>This is Unofficial EPICS BASE Doxygen Site: modules/libcom/src/osi/epicsThread.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../epics.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">This is Unofficial EPICS BASE Doxygen Site
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d8/d8e/epicsThread_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">epicsThread.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;exception&gt;</code><br />
<code>#include &lt;typeinfo&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;float.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d9/dd3/epicsAlgorithm_8h_source.html">epicsAlgorithm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d9b/epicsTime_8h_source.html">epicsTime.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d29/epicsThread_8h_source.html">epicsThread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d59/epicsAssert_8h_source.html">epicsAssert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d22/epicsGuard_8h_source.html">epicsGuard.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dba/errlog_8h_source.html">errlog.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for epicsThread.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d1/df8/epicsThread_8cpp__incl.png" border="0" usemap="#modules_2libcom_2src_2osi_2epicsThread_8cpp" alt=""/></div>
<map name="modules_2libcom_2src_2osi_2epicsThread_8cpp" id="modules_2libcom_2src_2osi_2epicsThread_8cpp">
<area shape="rect" id="node8" href="../../d9/dd3/epicsAlgorithm_8h.html" title="Contains a few templates out of the C++ standard header algorithm. " alt="" coords="269,95,398,121"/>
<area shape="rect" id="node10" href="../../d9/d9b/epicsTime_8h.html" title="EPICS time&#45;stamps (epicsTimeStamp), epicsTime C++ class and C functions for handling wall&#45;clock times..." alt="" coords="423,95,521,121"/>
<area shape="rect" id="node18" href="../../d8/d29/epicsThread_8h.html" title="C++ and C descriptions for a thread. " alt="" coords="1073,95,1183,121"/>
<area shape="rect" id="node20" href="../../d2/d59/epicsAssert_8h.html" title="An EPICS&#45;specific replacement for ANSI C&#39;s assert. " alt="" coords="613,169,721,196"/>
<area shape="rect" id="node21" href="../../db/d22/epicsGuard_8h.html" title="epicsGuard.h" alt="" coords="1249,95,1356,121"/>
<area shape="rect" id="node23" href="../../db/dba/errlog_8h.html" title="errlog.h" alt="" coords="854,95,925,121"/>
<area shape="rect" id="node13" href="../../d8/d42/epicsTypes_8h.html" title="epicsTypes.h" alt="" coords="434,169,537,196"/>
<area shape="rect" id="node17" href="../../d8/d1a/errMdef_8h.html" title="errMdef.h" alt="" coords="240,169,323,196"/>
<area shape="rect" id="node14" href="../../d5/d48/compilerDependencies_8h.html" title="Compiler specific declarations. " alt="" coords="494,244,674,271"/>
</map>
</div>
</div>
<p><a href="../../d8/d8e/epicsThread_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d89/classepicsThread_1_1unableToCreateThread.html">epicsThread::unableToCreateThread</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3575354f02086b6549c9699f218aa9b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d29/epicsThread_8h.html#a4d9a9f1cd4b2be692a4383f466c3d3d1">epicsThreadId</a> epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html#a3575354f02086b6549c9699f218aa9b2">epicsThreadCreate</a> (const char *name, unsigned int priority, unsigned int stackSize, <a class="el" href="../../d8/d29/epicsThread_8h.html#a9d7161108d155dbbb4213925570c45fd">EPICSTHREADFUNC</a> funptr, void *parm)</td></tr>
<tr class="separator:a3575354f02086b6549c9699f218aa9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637269a3020f63144744a3a286b8cda0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html#a637269a3020f63144744a3a286b8cda0">epicsThreadCallEntryPoint</a> (void *pPvt)</td></tr>
<tr class="separator:a637269a3020f63144744a3a286b8cda0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8cc80ca2559394a61d15296113ef91d"><td class="memItemLeft" align="right" valign="top">int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html#ab8cc80ca2559394a61d15296113ef91d">epicsThreadIsOkToBlock</a> (void)</td></tr>
<tr class="separator:ab8cc80ca2559394a61d15296113ef91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad272bc46d342e4098159d044426f9b0a"><td class="memItemLeft" align="right" valign="top">void epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html#ad272bc46d342e4098159d044426f9b0a">epicsThreadSetOkToBlock</a> (int isOkToBlock)</td></tr>
<tr class="separator:ad272bc46d342e4098159d044426f9b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade98a6e4833a3772b1b762737d72469f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d29/epicsThread_8h.html#a4d9a9f1cd4b2be692a4383f466c3d3d1">epicsThreadId</a> epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html#ade98a6e4833a3772b1b762737d72469f">epicsThreadMustCreate</a> (const char *name, unsigned int priority, unsigned int stackSize, <a class="el" href="../../d8/d29/epicsThread_8h.html#a9d7161108d155dbbb4213925570c45fd">EPICSTHREADFUNC</a> funptr, void *parm)</td></tr>
<tr class="separator:ade98a6e4833a3772b1b762737d72469f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adfb624a79f96de69a0d880159ebd24c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d29/epicsThread_8h.html#a8803a0ded6b29aac177c4c5e8727c4b4">epicsThreadPrivateId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html#adfb624a79f96de69a0d880159ebd24c6">okToBlockPrivate</a></td></tr>
<tr class="separator:adfb624a79f96de69a0d880159ebd24c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7692052acca6eb2058aa79c070164b39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d29/epicsThread_8h.html#a4d9a9f1cd4b2be692a4383f466c3d3d1">epicsThreadId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html#a7692052acca6eb2058aa79c070164b39">epicsThreadMainId</a> = initMainThread()</td></tr>
<tr class="separator:a7692052acca6eb2058aa79c070164b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a637269a3020f63144744a3a286b8cda0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void epicsThreadCallEntryPoint </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pPvt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html#l00086">86</a> of file <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html">epicsThread.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="../../d1/de5/namespaceepicsThread.html">epicsThread</a> * pThread =</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        static_cast &lt;<a class="code" href="../../d1/de5/namespaceepicsThread.html">epicsThread</a> *&gt; ( pPvt );</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">bool</span> threadDestroyed = <span class="keyword">false</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        pThread-&gt;pThreadDestroyed = &amp; threadDestroyed;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">if</span> ( pThread-&gt;beginWait () ) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            pThread-&gt;runable.run ();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="comment">// The run() routine may have destroyed the epicsThread</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="comment">// object by now; pThread can only be used below here</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="comment">// when the threadDestroyed flag is false.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">catch</span> ( <span class="keyword">const</span> epicsThread::exitException &amp; ) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">catch</span> ( std :: exception &amp; except ) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">if</span> ( ! threadDestroyed ) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            pThread-&gt;printLastChanceExceptionMessage (</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keyword">typeid</span> ( except ).name (), except.what () );</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">catch</span> ( ... ) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> ( ! threadDestroyed ) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            pThread-&gt;printLastChanceExceptionMessage (</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="stringliteral">&quot;catch ( ... )&quot;</span>, <span class="stringliteral">&quot;Non-standard C++ exception&quot;</span> );</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> ( ! threadDestroyed ) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="../../d8/d93/classepicsGuard.html">epicsGuard &lt; epicsMutex &gt;</a> guard ( pThread-&gt;mutex );</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        pThread-&gt;pThreadDestroyed = <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        pThread-&gt;terminated = <span class="keyword">true</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        pThread-&gt;exitEvent.signal ();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="comment">// After the terminated flag is set and guard&#39;s destructor</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="comment">// releases the lock, pThread must never be used again.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="ttc" id="classepicsGuard_html"><div class="ttname"><a href="../../d8/d93/classepicsGuard.html">epicsGuard&lt; epicsMutex &gt;</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="namespaceepicsThread_html"><div class="ttname"><a href="../../d1/de5/namespaceepicsThread.html">epicsThread</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3575354f02086b6549c9699f218aa9b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d29/epicsThread_8h.html#a4d9a9f1cd4b2be692a4383f466c3d3d1">epicsThreadId</a> epicsStdCall epicsThreadCreate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>stackSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d29/epicsThread_8h.html#a9d7161108d155dbbb4213925570c45fd">EPICSTHREADFUNC</a>&#160;</td>
          <td class="paramname"><em>funptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>parm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Short-hand for <a class="el" href="../../d8/d29/epicsThread_8h.html#a84edaa80fe21d14580c48301a7fea22d" title="Allocate and start a new OS thread. ">epicsThreadCreateOpt()</a> to create an un-joinable thread. </p>

<p>Definition at line <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html#l00033">33</a> of file <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html">epicsThread.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="../../dc/df7/structepicsThreadOpts.html">epicsThreadOpts</a> opts = <a class="code" href="../../d8/d29/epicsThread_8h.html#a6e223edb5e9d570d7420bc6ba392f4f7">EPICS_THREAD_OPTS_INIT</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    opts.<a class="code" href="../../dc/df7/structepicsThreadOpts.html#adec97d7a6adf21f2d25ab4db4429917b">priority</a> = priority;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    opts.<a class="code" href="../../dc/df7/structepicsThreadOpts.html#a14f1c707a40b1de965a22fa5aeaec651">stackSize</a> = stackSize;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    opts.<a class="code" href="../../dc/df7/structepicsThreadOpts.html#a6d2fcb001a1292726098491ce1c261d5">joinable</a> = 0;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d29/epicsThread_8h.html#a84edaa80fe21d14580c48301a7fea22d">epicsThreadCreateOpt</a>(name, funptr, parm, &amp;opts);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div><div class="ttc" id="structepicsThreadOpts_html_a6d2fcb001a1292726098491ce1c261d5"><div class="ttname"><a href="../../dc/df7/structepicsThreadOpts.html#a6d2fcb001a1292726098491ce1c261d5">epicsThreadOpts::joinable</a></div><div class="ttdeci">unsigned int joinable</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d29/epicsThread_8h_source.html#l00158">epicsThread.h:158</a></div></div>
<div class="ttc" id="structepicsThreadOpts_html_a14f1c707a40b1de965a22fa5aeaec651"><div class="ttname"><a href="../../dc/df7/structepicsThreadOpts.html#a14f1c707a40b1de965a22fa5aeaec651">epicsThreadOpts::stackSize</a></div><div class="ttdeci">unsigned int stackSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d29/epicsThread_8h_source.html#l00154">epicsThread.h:154</a></div></div>
<div class="ttc" id="structepicsThreadOpts_html_adec97d7a6adf21f2d25ab4db4429917b"><div class="ttname"><a href="../../dc/df7/structepicsThreadOpts.html#adec97d7a6adf21f2d25ab4db4429917b">epicsThreadOpts::priority</a></div><div class="ttdeci">unsigned int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d29/epicsThread_8h_source.html#l00150">epicsThread.h:150</a></div></div>
<div class="ttc" id="epicsThread_8h_html_a6e223edb5e9d570d7420bc6ba392f4f7"><div class="ttname"><a href="../../d8/d29/epicsThread_8h.html#a6e223edb5e9d570d7420bc6ba392f4f7">EPICS_THREAD_OPTS_INIT</a></div><div class="ttdeci">#define EPICS_THREAD_OPTS_INIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d29/epicsThread_8h_source.html#l00167">epicsThread.h:167</a></div></div>
<div class="ttc" id="epicsThread_8h_html_a84edaa80fe21d14580c48301a7fea22d"><div class="ttname"><a href="../../d8/d29/epicsThread_8h.html#a84edaa80fe21d14580c48301a7fea22d">epicsThreadCreateOpt</a></div><div class="ttdeci">LIBCOM_API epicsThreadId epicsThreadCreateOpt(const char *name, EPICSTHREADFUNC funptr, void *parm, const epicsThreadOpts *opts)</div><div class="ttdoc">Allocate and start a new OS thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d24/posix_2osdThread_8c_source.html#l00529">osdThread.c:529</a></div></div>
<div class="ttc" id="structepicsThreadOpts_html"><div class="ttname"><a href="../../dc/df7/structepicsThreadOpts.html">epicsThreadOpts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d29/epicsThread_8h_source.html#l00148">epicsThread.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8cc80ca2559394a61d15296113ef91d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int epicsStdCall epicsThreadIsOkToBlock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Is it OK for a thread to block? This can be called by support code that does not know if it is called in a thread that should not block. For example the errlog system calls this to decide when messages should be displayed on the console. </p>

<p>Definition at line <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html#l00358">358</a> of file <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html">epicsThread.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> *pokToBlock;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="../../d8/d29/epicsThread_8h.html#aeb97a33b5b2298bfe285dfe4c6e682d2">epicsThreadOnce</a>(&amp;okToBlockOnce, epicsThreadOnceIdInit, <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        pokToBlock = (<span class="keywordtype">int</span> *) <a class="code" href="../../d8/d29/epicsThread_8h.html#af145ec04b2d9d568a9e62106d372a95a">epicsThreadPrivateGet</a>(<a class="code" href="../../d8/d8e/epicsThread_8cpp.html#adfb624a79f96de69a0d880159ebd24c6">okToBlockPrivate</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">return</span> (pokToBlock ? *pokToBlock : 0);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div><div class="ttc" id="epicsThread_8cpp_html_adfb624a79f96de69a0d880159ebd24c6"><div class="ttname"><a href="../../d8/d8e/epicsThread_8cpp.html#adfb624a79f96de69a0d880159ebd24c6">okToBlockPrivate</a></div><div class="ttdeci">epicsThreadPrivateId okToBlockPrivate</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8e/epicsThread_8cpp_source.html#l00349">epicsThread.cpp:349</a></div></div>
<div class="ttc" id="epicsThread_8h_html_af145ec04b2d9d568a9e62106d372a95a"><div class="ttname"><a href="../../d8/d29/epicsThread_8h.html#af145ec04b2d9d568a9e62106d372a95a">epicsThreadPrivateGet</a></div><div class="ttdeci">LIBCOM_API void *epicsStdCall epicsThreadPrivateGet(epicsThreadPrivateId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d24/posix_2osdThread_8c_source.html#l00973">osdThread.c:973</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="epicsThread_8h_html_aeb97a33b5b2298bfe285dfe4c6e682d2"><div class="ttname"><a href="../../d8/d29/epicsThread_8h.html#aeb97a33b5b2298bfe285dfe4c6e682d2">epicsThreadOnce</a></div><div class="ttdeci">LIBCOM_API void epicsStdCall epicsThreadOnce(epicsThreadOnceId *id, EPICSTHREADFUNC, void *arg)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade98a6e4833a3772b1b762737d72469f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d29/epicsThread_8h.html#a4d9a9f1cd4b2be692a4383f466c3d3d1">epicsThreadId</a> epicsStdCall epicsThreadMustCreate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>stackSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d29/epicsThread_8h.html#a9d7161108d155dbbb4213925570c45fd">EPICSTHREADFUNC</a>&#160;</td>
          <td class="paramname"><em>funptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>parm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Short-hand for <a class="el" href="../../d8/d29/epicsThread_8h.html#a84edaa80fe21d14580c48301a7fea22d" title="Allocate and start a new OS thread. ">epicsThreadCreateOpt()</a> to create an un-joinable thread. On error calls <a class="el" href="../../d4/d4c/cantProceed_8c.html#a8c1ce358143c6b8d9241abcba6a06477">cantProceed()</a> </p>

<p>Definition at line <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html#l00374">374</a> of file <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html">epicsThread.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="../../d6/d34/structepicsThreadOSD.html">epicsThreadId</a> <span class="keywordtype">id</span> = <a class="code" href="../../d8/d8e/epicsThread_8cpp.html#a3575354f02086b6549c9699f218aa9b2">epicsThreadCreate</a> (</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            name, priority, stackSize, funptr, parm );</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="../../d2/d59/epicsAssert_8h.html#a6f56363b38edbe2c8f3f447f891ee2c0">assert</a> ( <span class="keywordtype">id</span> );</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">return</span> id;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div><div class="ttc" id="epicsAssert_8h_html_a6f56363b38edbe2c8f3f447f891ee2c0"><div class="ttname"><a href="../../d2/d59/epicsAssert_8h.html#a6f56363b38edbe2c8f3f447f891ee2c0">assert</a></div><div class="ttdeci">#define assert(exp)</div><div class="ttdoc">Declare that a condition should be true. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d59/epicsAssert_8h_source.html#l00070">epicsAssert.h:70</a></div></div>
<div class="ttc" id="epicsThread_8cpp_html_a3575354f02086b6549c9699f218aa9b2"><div class="ttname"><a href="../../d8/d8e/epicsThread_8cpp.html#a3575354f02086b6549c9699f218aa9b2">epicsThreadCreate</a></div><div class="ttdeci">epicsThreadId epicsStdCall epicsThreadCreate(const char *name, unsigned int priority, unsigned int stackSize, EPICSTHREADFUNC funptr, void *parm)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8e/epicsThread_8cpp_source.html#l00033">epicsThread.cpp:33</a></div></div>
<div class="ttc" id="structepicsThreadOSD_html"><div class="ttname"><a href="../../d6/d34/structepicsThreadOSD.html">epicsThreadOSD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcc/Linux_2osdThread_8h_source.html#l00023">osdThread.h:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad272bc46d342e4098159d044426f9b0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void epicsStdCall epicsThreadSetOkToBlock </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>isOkToBlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When a thread is started the default is that it is not allowed to block. This method can be called to change the state. For example iocsh calls this to specify that it is OK to block. </p>

<p>Definition at line <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html#l00366">366</a> of file <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html">epicsThread.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> *pokToBlock;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <a class="code" href="../../d8/d29/epicsThread_8h.html#aeb97a33b5b2298bfe285dfe4c6e682d2">epicsThreadOnce</a>(&amp;okToBlockOnce, epicsThreadOnceIdInit, <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        pokToBlock = (isOkToBlock) ? &amp;okToBlockYes : &amp;okToBlockNo;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="../../d8/d29/epicsThread_8h.html#a8e1a0aaf11bdd779ccf075eb6332cbbc">epicsThreadPrivateSet</a>(<a class="code" href="../../d8/d8e/epicsThread_8cpp.html#adfb624a79f96de69a0d880159ebd24c6">okToBlockPrivate</a>, (<span class="keywordtype">void</span> *)pokToBlock);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div><div class="ttc" id="epicsThread_8cpp_html_adfb624a79f96de69a0d880159ebd24c6"><div class="ttname"><a href="../../d8/d8e/epicsThread_8cpp.html#adfb624a79f96de69a0d880159ebd24c6">okToBlockPrivate</a></div><div class="ttdeci">epicsThreadPrivateId okToBlockPrivate</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8e/epicsThread_8cpp_source.html#l00349">epicsThread.cpp:349</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="epicsThread_8h_html_aeb97a33b5b2298bfe285dfe4c6e682d2"><div class="ttname"><a href="../../d8/d29/epicsThread_8h.html#aeb97a33b5b2298bfe285dfe4c6e682d2">epicsThreadOnce</a></div><div class="ttdeci">LIBCOM_API void epicsStdCall epicsThreadOnce(epicsThreadOnceId *id, EPICSTHREADFUNC, void *arg)</div></div>
<div class="ttc" id="epicsThread_8h_html_a8e1a0aaf11bdd779ccf075eb6332cbbc"><div class="ttname"><a href="../../d8/d29/epicsThread_8h.html#a8e1a0aaf11bdd779ccf075eb6332cbbc">epicsThreadPrivateSet</a></div><div class="ttdeci">LIBCOM_API void epicsStdCall epicsThreadPrivateSet(epicsThreadPrivateId, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d24/posix_2osdThread_8c_source.html#l00961">osdThread.c:961</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7692052acca6eb2058aa79c070164b39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d29/epicsThread_8h.html#a4d9a9f1cd4b2be692a4383f466c3d3d1">epicsThreadId</a> epicsThreadMainId = initMainThread()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html#l00392">392</a> of file <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html">epicsThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adfb624a79f96de69a0d880159ebd24c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d29/epicsThread_8h.html#a8803a0ded6b29aac177c4c5e8727c4b4">epicsThreadPrivateId</a> okToBlockPrivate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html#l00349">349</a> of file <a class="el" href="../../d8/d8e/epicsThread_8cpp_source.html">epicsThread.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li><li class="navelem"><a class="el" href="../../dir_66ad26243ee5b9e4435a8c38b71879e0.html">libcom</a></li><li class="navelem"><a class="el" href="../../dir_3c26cc65c6aeedab9756b68f4c64367b.html">src</a></li><li class="navelem"><a class="el" href="../../dir_f0116dfafe1625bea69c3ed4ebfa1468.html">osi</a></li><li class="navelem"><a class="el" href="../../d8/d8e/epicsThread_8cpp.html">epicsThread.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
