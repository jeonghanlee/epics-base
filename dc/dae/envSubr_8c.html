<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>This is Unofficial EPICS BASE Doxygen Site: modules/libcom/src/env/envSubr.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../epics.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">This is Unofficial EPICS BASE Doxygen Site
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/dae/envSubr_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">envSubr.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d95/epicsStdlib_8h_source.html">epicsStdlib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d2c/epicsStdio_8h_source.html">epicsStdio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d2d/epicsString_8h_source.html">epicsString.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d1a/errMdef_8h_source.html">errMdef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dba/errlog_8h_source.html">errlog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d5c/envDefs_8h_source.html">envDefs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d59/epicsAssert_8h_source.html">epicsAssert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/dfa/osiSock_8h_source.html">osiSock.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for envSubr.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de9/envSubr_8c__incl.png" border="0" usemap="#modules_2libcom_2src_2env_2envSubr_8c" alt=""/></div>
<map name="modules_2libcom_2src_2env_2envSubr_8c" id="modules_2libcom_2src_2env_2envSubr_8c">
<area shape="rect" id="node5" href="../../d7/d95/epicsStdlib_8h.html" title="epicsStdlib.h" alt="" coords="1186,95,1289,121"/>
<area shape="rect" id="node12" href="../../d8/d1a/errMdef_8h.html" title="errMdef.h" alt="" coords="1545,169,1628,196"/>
<area shape="rect" id="node13" href="../../d5/d2c/epicsStdio_8h.html" title="epicsStdio.h" alt="" coords="341,95,441,121"/>
<area shape="rect" id="node16" href="../../d4/d2d/epicsString_8h.html" title="epicsString.h" alt="" coords="715,95,821,121"/>
<area shape="rect" id="node17" href="../../db/dba/errlog_8h.html" title="errlog.h" alt="" coords="129,169,199,196"/>
<area shape="rect" id="node19" href="../../d7/d5c/envDefs_8h.html" title="Routines to get and set EPICS environment parameters. " alt="" coords="854,95,941,121"/>
<area shape="rect" id="node20" href="../../d2/d59/epicsAssert_8h.html" title="An EPICS&#45;specific replacement for ANSI C&#39;s assert. " alt="" coords="574,169,682,196"/>
<area shape="rect" id="node21" href="../../d7/dfa/osiSock_8h.html" title="osiSock.h" alt="" coords="981,95,1064,121"/>
<area shape="rect" id="node9" href="../../d8/d42/epicsTypes_8h.html" title="epicsTypes.h" alt="" coords="706,169,809,196"/>
<area shape="rect" id="node10" href="../../d5/d48/compilerDependencies_8h.html" title="Compiler specific declarations. " alt="" coords="407,244,587,271"/>
<area shape="rect" id="node15" href="../../dd/d8e/epicsTempFile_8h.html" title="OS&#45;independent way to create temporary files. " alt="" coords="377,169,498,196"/>
<area shape="rect" id="node23" href="../../d2/d71/ellLib_8h.html" title="A doubly&#45;linked list library. " alt="" coords="935,169,1001,196"/>
</map>
</div>
</div>
<p><a href="../../dc/dae/envSubr_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afc0c2c81e3b6d829e84dabf61451d51a"><td class="memItemLeft" align="right" valign="top">const char *epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#afc0c2c81e3b6d829e84dabf61451d51a">envGetConfigParamPtr</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pParam)</td></tr>
<tr class="memdesc:afc0c2c81e3b6d829e84dabf61451d51a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a configuration parameter's value or default string.  <a href="#afc0c2c81e3b6d829e84dabf61451d51a">More...</a><br /></td></tr>
<tr class="separator:afc0c2c81e3b6d829e84dabf61451d51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6be438cf3e2a8ec23d8bbd6c1e1c95"><td class="memItemLeft" align="right" valign="top">char *epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pParam, int bufDim, char *pBuf)</td></tr>
<tr class="memdesc:ade6be438cf3e2a8ec23d8bbd6c1e1c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of a configuration parameter.  <a href="#ade6be438cf3e2a8ec23d8bbd6c1e1c95">More...</a><br /></td></tr>
<tr class="separator:ade6be438cf3e2a8ec23d8bbd6c1e1c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea477aab00a9af8d38492e82f579541"><td class="memItemLeft" align="right" valign="top">long epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#acea477aab00a9af8d38492e82f579541">envGetDoubleConfigParam</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pParam, double *pDouble)</td></tr>
<tr class="memdesc:acea477aab00a9af8d38492e82f579541"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of a double configuration parameter.  <a href="#acea477aab00a9af8d38492e82f579541">More...</a><br /></td></tr>
<tr class="separator:acea477aab00a9af8d38492e82f579541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab131688d3ce064fa6bb04cedd7434eff"><td class="memItemLeft" align="right" valign="top">long epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#ab131688d3ce064fa6bb04cedd7434eff">envGetInetAddrConfigParam</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pParam, struct in_addr *pAddr)</td></tr>
<tr class="memdesc:ab131688d3ce064fa6bb04cedd7434eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of an inet addr config parameter.  <a href="#ab131688d3ce064fa6bb04cedd7434eff">More...</a><br /></td></tr>
<tr class="separator:ab131688d3ce064fa6bb04cedd7434eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85801613fa17c8bf228a027497d9839"><td class="memItemLeft" align="right" valign="top">long epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#ac85801613fa17c8bf228a027497d9839">envGetLongConfigParam</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pParam, long *pLong)</td></tr>
<tr class="memdesc:ac85801613fa17c8bf228a027497d9839"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of a long configuration parameter.  <a href="#ac85801613fa17c8bf228a027497d9839">More...</a><br /></td></tr>
<tr class="separator:ac85801613fa17c8bf228a027497d9839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ed1c2467acca63c19d36452c4c7d3f"><td class="memItemLeft" align="right" valign="top">long epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#ac1ed1c2467acca63c19d36452c4c7d3f">envGetBoolConfigParam</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pParam, int *pBool)</td></tr>
<tr class="memdesc:ac1ed1c2467acca63c19d36452c4c7d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of a boolean configuration parameter.  <a href="#ac1ed1c2467acca63c19d36452c4c7d3f">More...</a><br /></td></tr>
<tr class="separator:ac1ed1c2467acca63c19d36452c4c7d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e4beb9ccf4d3967179baeac925c0c7"><td class="memItemLeft" align="right" valign="top">long epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#a77e4beb9ccf4d3967179baeac925c0c7">envPrtConfigParam</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pParam)</td></tr>
<tr class="memdesc:a77e4beb9ccf4d3967179baeac925c0c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the value of a configuration parameter.  <a href="#a77e4beb9ccf4d3967179baeac925c0c7">More...</a><br /></td></tr>
<tr class="separator:a77e4beb9ccf4d3967179baeac925c0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624380527e29d024bb64140d638d8145"><td class="memItemLeft" align="right" valign="top">long epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#a624380527e29d024bb64140d638d8145">epicsPrtEnvParams</a> (void)</td></tr>
<tr class="memdesc:a624380527e29d024bb64140d638d8145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints all configuration parameters and their current value.  <a href="#a624380527e29d024bb64140d638d8145">More...</a><br /></td></tr>
<tr class="separator:a624380527e29d024bb64140d638d8145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a405e2510fb182ad915e32807a966cb63"><td class="memItemLeft" align="right" valign="top">LIBCOM_API unsigned short epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dae/envSubr_8c.html#a405e2510fb182ad915e32807a966cb63">envGetInetPortConfigParam</a> (const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *pEnv, unsigned short defaultPort)</td></tr>
<tr class="memdesc:a405e2510fb182ad915e32807a966cb63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of a port number configuration parameter.  <a href="#a405e2510fb182ad915e32807a966cb63">More...</a><br /></td></tr>
<tr class="separator:a405e2510fb182ad915e32807a966cb63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac1ed1c2467acca63c19d36452c4c7d3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long epicsStdCall envGetBoolConfigParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pBool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of a boolean configuration parameter. </p>
<p>Gets the value of a configuration parameter, and puts the value 0 or 1 into the caller's buffer depending on the value. If the configuration parameter isn't found in the environment, the default value for the parameter is used instead.</p>
<p>A value is treated as True (1) if it compares equal to the string "yes" with a case-independent string comparison. All other strings are treated as False (0).</p>
<p>If no parameter is found and there is no default, then -1 is returned and the callers buffer is unmodified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pParam</td><td>Pointer to config param structure. </td></tr>
    <tr><td class="paramname">pBool</td><td>Pointer to place to store value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0, or -1 if an error is encountered </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00325">325</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">char</span> text[20];</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a>(pParam, <span class="keyword">sizeof</span>(text), text))</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    *pBool = <a class="code" href="../../d1/ddc/epicsString_8c.html#af067298936bf8867c4384d74fb8e5f5f">epicsStrCaseCmp</a>(text, <span class="stringliteral">&quot;yes&quot;</span>)==0;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div><div class="ttc" id="epicsString_8c_html_af067298936bf8867c4384d74fb8e5f5f"><div class="ttname"><a href="../../d1/ddc/epicsString_8c.html#af067298936bf8867c4384d74fb8e5f5f">epicsStrCaseCmp</a></div><div class="ttdeci">int epicsStrCaseCmp(const char *s1, const char *s2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddc/epicsString_8c_source.html#l00191">epicsString.c:191</a></div></div>
<div class="ttc" id="envSubr_8c_html_ade6be438cf3e2a8ec23d8bbd6c1e1c95"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a></div><div class="ttdeci">char *epicsStdCall envGetConfigParam(const ENV_PARAM *pParam, int bufDim, char *pBuf)</div><div class="ttdoc">Get value of a configuration parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00139">envSubr.c:139</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade6be438cf3e2a8ec23d8bbd6c1e1c95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* epicsStdCall envGetConfigParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufDim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of a configuration parameter. </p>
<p>Gets the value of a configuration parameter from the environment and copies it into the caller's buffer. If the parameter isn't set in the environment, the default value for the parameter is copied instead. If neither provides a non-empty string the buffer is set to '\0' and NULL is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pParam</td><td>Pointer to config param structure. </td></tr>
    <tr><td class="paramname">bufDim</td><td>Dimension of parameter buffer </td></tr>
    <tr><td class="paramname">pBuf</td><td>Pointer to parameter buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the environment variable value string, or NULL if no parameter value and default value was empty. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00139">139</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *pEnv;           <span class="comment">/* pointer to environment string */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    pEnv = <a class="code" href="../../dc/dae/envSubr_8c.html#afc0c2c81e3b6d829e84dabf61451d51a">envGetConfigParamPtr</a>(pParam);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (!pEnv) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    strncpy(pBuf, pEnv, bufDim-1);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    pBuf[bufDim-1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> pBuf;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="envSubr_8c_html_afc0c2c81e3b6d829e84dabf61451d51a"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#afc0c2c81e3b6d829e84dabf61451d51a">envGetConfigParamPtr</a></div><div class="ttdeci">const char *epicsStdCall envGetConfigParamPtr(const ENV_PARAM *pParam)</div><div class="ttdoc">Get a configuration parameter&amp;#39;s value or default string. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00081">envSubr.c:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afc0c2c81e3b6d829e84dabf61451d51a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* epicsStdCall envGetConfigParamPtr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a configuration parameter's value or default string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pParam</td><td>Pointer to config param structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the environment variable value string, or to the default value for the parameter, or NULL if those strings were empty or not set. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00081">81</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *pEnv;           <span class="comment">/* pointer to environment string */</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    pEnv = getenv(pParam-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (pEnv == <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        pEnv = pParam-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a4804abf2a36d9898a8203f866b56538e">pdflt</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (pEnv) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">if</span> (pEnv[0u] == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            pEnv = <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> pEnv;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="ttc" id="structenvParam_html_a6f9793eacde569eea8f91a7cc2ff0d55"><div class="ttname"><a href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">envParam::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Name of the parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00042">envDefs.h:42</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="structenvParam_html_a4804abf2a36d9898a8203f866b56538e"><div class="ttname"><a href="../../d3/dfe/structenvParam.html#a4804abf2a36d9898a8203f866b56538e">envParam::pdflt</a></div><div class="ttdeci">char * pdflt</div><div class="ttdoc">Default value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00043">envDefs.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acea477aab00a9af8d38492e82f579541"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long epicsStdCall envGetDoubleConfigParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>pDouble</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of a double configuration parameter. </p>
<p>Gets the value of a configuration parameter, converts it into a <code>double</code> value and copies that into the caller's buffer. If the configuration parameter isn't found in the environment, the default value for the parameter is used instead.</p>
<p>If no parameter is found and there is no default, then -1 is returned and the callers buffer is unmodified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pParam</td><td>Pointer to config param structure. </td></tr>
    <tr><td class="paramname">pDouble</td><td>Pointer to place to store value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0, or -1 if an error is encountered </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00191">191</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">char</span>        text[128];</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">char</span>        *ptext;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">int</span>         count;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    ptext = <a class="code" href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a>(pParam, <span class="keyword">sizeof</span> text, text);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (ptext != <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        count = <a class="code" href="../../d7/d95/epicsStdlib_8h.html#a6f55aaa737dd8ee5dc9dce1c37a4ab73">epicsScanDouble</a>(text, pDouble);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (count == 1) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        (void)fprintf(<a class="code" href="../../d5/d2c/epicsStdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>,<span class="stringliteral">&quot;Unable to find a real number in %s=%s\n&quot;</span>,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                pParam-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>, text);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="ttc" id="structenvParam_html_a6f9793eacde569eea8f91a7cc2ff0d55"><div class="ttname"><a href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">envParam::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Name of the parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00042">envDefs.h:42</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="epicsStdlib_8h_html_a6f55aaa737dd8ee5dc9dce1c37a4ab73"><div class="ttname"><a href="../../d7/d95/epicsStdlib_8h.html#a6f55aaa737dd8ee5dc9dce1c37a4ab73">epicsScanDouble</a></div><div class="ttdeci">#define epicsScanDouble(str, to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d95/epicsStdlib_8h_source.html#l00078">epicsStdlib.h:78</a></div></div>
<div class="ttc" id="envSubr_8c_html_ade6be438cf3e2a8ec23d8bbd6c1e1c95"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a></div><div class="ttdeci">char *epicsStdCall envGetConfigParam(const ENV_PARAM *pParam, int bufDim, char *pBuf)</div><div class="ttdoc">Get value of a configuration parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00139">envSubr.c:139</a></div></div>
<div class="ttc" id="epicsStdio_8h_html_a5ce35bd5ba5021fd3b2e951e8f497656"><div class="ttname"><a href="../../d5/d2c/epicsStdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a></div><div class="ttdeci">#define stderr</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2c/epicsStdio_8h_source.html#l00032">epicsStdio.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab131688d3ce064fa6bb04cedd7434eff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long epicsStdCall envGetInetAddrConfigParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in_addr *&#160;</td>
          <td class="paramname"><em>pAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of an inet addr config parameter. </p>
<p>Gets the value of a configuration parameter and copies it into the caller's (struct in_addr) buffer. If the configuration parameter isn't found in the environment, the default value for that parameter will be used. The resulting string is converted from a dotted-quad format or looked up using the DNS and copied into the inet structure.</p>
<p>If no parameter is found and there is no default, then -1 is returned and the callers buffer is unmodified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pParam</td><td>Pointer to config param structure. </td></tr>
    <tr><td class="paramname">pAddr</td><td>Pointer to struct to receive inet addr. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0, or -1 if an error is encountered </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00246">246</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">char</span>        text[128];</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">char</span>        *ptext;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordtype">long</span>        <a class="code" href="../../d9/d3b/sharedstate__pv_8cpp.html#a9ce55063412af7f559e185d6928461ae">status</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keyword">struct </span>sockaddr_in sin;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    ptext = <a class="code" href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a>(pParam, <span class="keyword">sizeof</span> text, text);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (ptext) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                status = <a class="code" href="../../de/d9e/aToIPAddr_8c.html#a712abde5b542ea632e0e246ec5495151">aToIPAddr</a> (text, 0u, &amp;sin);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="keywordflow">if</span> (status == 0) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        *pAddr = sin.sin_addr;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        (void)fprintf(<a class="code" href="../../d5/d2c/epicsStdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>,<span class="stringliteral">&quot;Unable to find an IP address or valid host name in %s=%s\n&quot;</span>,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                                pParam-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>, text);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div><div class="ttc" id="aToIPAddr_8c_html_a712abde5b542ea632e0e246ec5495151"><div class="ttname"><a href="../../de/d9e/aToIPAddr_8c.html#a712abde5b542ea632e0e246ec5495151">aToIPAddr</a></div><div class="ttdeci">LIBCOM_API int epicsStdCall aToIPAddr(const char *pAddrString, unsigned short defaultPort, struct sockaddr_in *pIP)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/aToIPAddr_8c_source.html#l00078">aToIPAddr.c:78</a></div></div>
<div class="ttc" id="sharedstate__pv_8cpp_html_a9ce55063412af7f559e185d6928461ae"><div class="ttname"><a href="../../d9/d3b/sharedstate__pv_8cpp.html#a9ce55063412af7f559e185d6928461ae">status</a></div><div class="ttdeci">pvd::Status status</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3b/sharedstate__pv_8cpp_source.html#l00122">sharedstate_pv.cpp:122</a></div></div>
<div class="ttc" id="structenvParam_html_a6f9793eacde569eea8f91a7cc2ff0d55"><div class="ttname"><a href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">envParam::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Name of the parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00042">envDefs.h:42</a></div></div>
<div class="ttc" id="envSubr_8c_html_ade6be438cf3e2a8ec23d8bbd6c1e1c95"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a></div><div class="ttdeci">char *epicsStdCall envGetConfigParam(const ENV_PARAM *pParam, int bufDim, char *pBuf)</div><div class="ttdoc">Get value of a configuration parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00139">envSubr.c:139</a></div></div>
<div class="ttc" id="epicsStdio_8h_html_a5ce35bd5ba5021fd3b2e951e8f497656"><div class="ttname"><a href="../../d5/d2c/epicsStdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a></div><div class="ttdeci">#define stderr</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2c/epicsStdio_8h_source.html#l00032">epicsStdio.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a405e2510fb182ad915e32807a966cb63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API unsigned short epicsStdCall envGetInetPortConfigParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>defaultPort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of a port number configuration parameter. </p>
<p>Returns the value of a configuration parameter that represents an inet port number. If no environment variable is found the default parameter value is used, and if that is also unset the <code>defaultPort</code> argument returned instead. The integer value must fall between the values IPPORT_USERRESERVED and USHRT_MAX or the <code>defaultPort</code> argument will be substituted instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pEnv</td><td>Pointer to config param structure. </td></tr>
    <tr><td class="paramname">defaultPort</td><td>Port number to be used if environment settings invalid. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Port number. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00398">398</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordtype">long</span>        longStatus;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">long</span>        epicsParam;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    longStatus = <a class="code" href="../../dc/dae/envSubr_8c.html#ac85801613fa17c8bf228a027497d9839">envGetLongConfigParam</a> (pEnv, &amp;epicsParam);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (longStatus!=0) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        epicsParam = (long) defaultPort;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="../../d5/df8/errlog_8c.html#a92e2c31c5207ce8c46014de0e4c22ac6">errlogPrintf</a> (<span class="stringliteral">&quot;EPICS Environment \&quot;%s\&quot; integer fetch failed\n&quot;</span>, pEnv-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="../../d5/df8/errlog_8c.html#a92e2c31c5207ce8c46014de0e4c22ac6">errlogPrintf</a> (<span class="stringliteral">&quot;setting \&quot;%s\&quot; = %ld\n&quot;</span>, pEnv-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>, epicsParam);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (epicsParam&lt;=IPPORT_USERRESERVED || epicsParam&gt;USHRT_MAX) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="../../d5/df8/errlog_8c.html#a92e2c31c5207ce8c46014de0e4c22ac6">errlogPrintf</a> (<span class="stringliteral">&quot;EPICS Environment \&quot;%s\&quot; out of range\n&quot;</span>, pEnv-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">         * Quit if the port is wrong due coding error</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="../../d2/d59/epicsAssert_8h.html#a6f56363b38edbe2c8f3f447f891ee2c0">assert</a> (epicsParam != (<span class="keywordtype">long</span>) defaultPort);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        epicsParam = (long) defaultPort;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="../../d5/df8/errlog_8c.html#a92e2c31c5207ce8c46014de0e4c22ac6">errlogPrintf</a> (<span class="stringliteral">&quot;Setting \&quot;%s\&quot; = %ld\n&quot;</span>, pEnv-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>, epicsParam);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">     * ok to clip to unsigned short here because we checked the range</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) epicsParam;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="ttc" id="epicsAssert_8h_html_a6f56363b38edbe2c8f3f447f891ee2c0"><div class="ttname"><a href="../../d2/d59/epicsAssert_8h.html#a6f56363b38edbe2c8f3f447f891ee2c0">assert</a></div><div class="ttdeci">#define assert(exp)</div><div class="ttdoc">Declare that a condition should be true. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d59/epicsAssert_8h_source.html#l00070">epicsAssert.h:70</a></div></div>
<div class="ttc" id="structenvParam_html_a6f9793eacde569eea8f91a7cc2ff0d55"><div class="ttname"><a href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">envParam::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Name of the parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00042">envDefs.h:42</a></div></div>
<div class="ttc" id="envSubr_8c_html_ac85801613fa17c8bf228a027497d9839"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#ac85801613fa17c8bf228a027497d9839">envGetLongConfigParam</a></div><div class="ttdeci">long epicsStdCall envGetLongConfigParam(const ENV_PARAM *pParam, long *pLong)</div><div class="ttdoc">Get value of a long configuration parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00303">envSubr.c:303</a></div></div>
<div class="ttc" id="errlog_8c_html_a92e2c31c5207ce8c46014de0e4c22ac6"><div class="ttname"><a href="../../d5/df8/errlog_8c.html#a92e2c31c5207ce8c46014de0e4c22ac6">errlogPrintf</a></div><div class="ttdeci">int errlogPrintf(const char *pFormat,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df8/errlog_8c_source.html#l00105">errlog.c:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac85801613fa17c8bf228a027497d9839"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long epicsStdCall envGetLongConfigParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>pLong</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of a long configuration parameter. </p>
<p>Gets the value of a configuration parameter, converts it into a <code>long</code> value and copies that into the caller's buffer. If the configuration parameter isn't found in the environment, the default value for the parameter is used instead.</p>
<p>If no parameter is found and there is no default, then -1 is returned and the callers buffer is unmodified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pParam</td><td>Pointer to config param structure. </td></tr>
    <tr><td class="paramname">pLong</td><td>Pointer to place to store value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0, or -1 if an error is encountered </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00303">303</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">char</span>        text[128];</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">char</span>        *ptext;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordtype">int</span>         count;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    ptext = <a class="code" href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a>(pParam, <span class="keyword">sizeof</span> text, text);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (ptext) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        count = sscanf(text, <span class="stringliteral">&quot;%ld&quot;</span>, pLong);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (count == 1)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        (void)fprintf(<a class="code" href="../../d5/d2c/epicsStdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>,<span class="stringliteral">&quot;Unable to find an integer in %s=%s\n&quot;</span>,</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                pParam-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>, text);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="ttc" id="structenvParam_html_a6f9793eacde569eea8f91a7cc2ff0d55"><div class="ttname"><a href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">envParam::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Name of the parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00042">envDefs.h:42</a></div></div>
<div class="ttc" id="envSubr_8c_html_ade6be438cf3e2a8ec23d8bbd6c1e1c95"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#ade6be438cf3e2a8ec23d8bbd6c1e1c95">envGetConfigParam</a></div><div class="ttdeci">char *epicsStdCall envGetConfigParam(const ENV_PARAM *pParam, int bufDim, char *pBuf)</div><div class="ttdoc">Get value of a configuration parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00139">envSubr.c:139</a></div></div>
<div class="ttc" id="epicsStdio_8h_html_a5ce35bd5ba5021fd3b2e951e8f497656"><div class="ttname"><a href="../../d5/d2c/epicsStdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a></div><div class="ttdeci">#define stderr</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2c/epicsStdio_8h_source.html#l00032">epicsStdio.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a77e4beb9ccf4d3967179baeac925c0c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long epicsStdCall envPrtConfigParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d5c/envDefs_8h.html#a627e88e179789a4b7aad23f98570b18c">ENV_PARAM</a> *&#160;</td>
          <td class="paramname"><em>pParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the value of a configuration parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pParam</td><td>Pointer to config param structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00353">353</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *pVal;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    pVal = <a class="code" href="../../dc/dae/envSubr_8c.html#afc0c2c81e3b6d829e84dabf61451d51a">envGetConfigParamPtr</a>(pParam);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (pVal == <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        fprintf(<a class="code" href="../../d5/d2c/epicsStdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>, <span class="stringliteral">&quot;%s is undefined\n&quot;</span>, pParam-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        fprintf(<a class="code" href="../../d5/d2c/epicsStdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>,<span class="stringliteral">&quot;%s: %s\n&quot;</span>, pParam-&gt;<a class="code" href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">name</a>, pVal);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="ttc" id="structenvParam_html_a6f9793eacde569eea8f91a7cc2ff0d55"><div class="ttname"><a href="../../d3/dfe/structenvParam.html#a6f9793eacde569eea8f91a7cc2ff0d55">envParam::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Name of the parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00042">envDefs.h:42</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="epicsStdio_8h_html_a0c0ef221f95f64e8632451312fd18cc8"><div class="ttname"><a href="../../d5/d2c/epicsStdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a></div><div class="ttdeci">#define stdout</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2c/epicsStdio_8h_source.html#l00030">epicsStdio.h:30</a></div></div>
<div class="ttc" id="envSubr_8c_html_afc0c2c81e3b6d829e84dabf61451d51a"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#afc0c2c81e3b6d829e84dabf61451d51a">envGetConfigParamPtr</a></div><div class="ttdeci">const char *epicsStdCall envGetConfigParamPtr(const ENV_PARAM *pParam)</div><div class="ttdoc">Get a configuration parameter&amp;#39;s value or default string. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00081">envSubr.c:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a624380527e29d024bb64140d638d8145"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long epicsStdCall epicsPrtEnvParams </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints all configuration parameters and their current value. </p>
<dl class="section return"><dt>Returns</dt><dd>0 </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dae/envSubr_8c_source.html#l00384">384</a> of file <a class="el" href="../../dc/dae/envSubr_8c_source.html">envSubr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/dfe/structenvParam.html">ENV_PARAM</a> **ppParam = <a class="code" href="../../d7/d5c/envDefs_8h.html#a809d52b2d4ac3a178b97790dd30d566a">env_param_list</a>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">while</span> (*ppParam != <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <a class="code" href="../../dc/dae/envSubr_8c.html#a77e4beb9ccf4d3967179baeac925c0c7">envPrtConfigParam</a>(*(ppParam++));</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="structenvParam_html"><div class="ttname"><a href="../../d3/dfe/structenvParam.html">envParam</a></div><div class="ttdoc">A structure to hold a single environment parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5c/envDefs_8h_source.html#l00041">envDefs.h:41</a></div></div>
<div class="ttc" id="envSubr_8c_html_a77e4beb9ccf4d3967179baeac925c0c7"><div class="ttname"><a href="../../dc/dae/envSubr_8c.html#a77e4beb9ccf4d3967179baeac925c0c7">envPrtConfigParam</a></div><div class="ttdeci">long epicsStdCall envPrtConfigParam(const ENV_PARAM *pParam)</div><div class="ttdoc">Print the value of a configuration parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dae/envSubr_8c_source.html#l00353">envSubr.c:353</a></div></div>
<div class="ttc" id="envDefs_8h_html_a809d52b2d4ac3a178b97790dd30d566a"><div class="ttname"><a href="../../d7/d5c/envDefs_8h.html#a809d52b2d4ac3a178b97790dd30d566a">env_param_list</a></div><div class="ttdeci">LIBCOM_API const ENV_PARAM * env_param_list[]</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li><li class="navelem"><a class="el" href="../../dir_66ad26243ee5b9e4435a8c38b71879e0.html">libcom</a></li><li class="navelem"><a class="el" href="../../dir_3c26cc65c6aeedab9756b68f4c64367b.html">src</a></li><li class="navelem"><a class="el" href="../../dir_3f4b3f78e03229988ffa2b4b97efe2dd.html">env</a></li><li class="navelem"><a class="el" href="../../dc/dae/envSubr_8c.html">envSubr.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
