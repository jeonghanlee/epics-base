<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>This is Unofficial EPICS BASE Doxygen Site: modules/libcom/src/ring/epicsRingBytes.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../epics.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">This is Unofficial EPICS BASE Doxygen Site
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d4a/epicsRingBytes_8h.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">epicsRingBytes.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A circular buffer to store bytes.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;libComAPI.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for epicsRingBytes.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d4/d31/epicsRingBytes_8h__incl.png" border="0" usemap="#modules_2libcom_2src_2ring_2epicsRingBytes_8h" alt=""/></div>
<map name="modules_2libcom_2src_2ring_2epicsRingBytes_8h" id="modules_2libcom_2src_2ring_2epicsRingBytes_8h">
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/d29/epicsRingBytes_8h__dep__incl.png" border="0" usemap="#modules_2libcom_2src_2ring_2epicsRingBytes_8hdep" alt=""/></div>
<map name="modules_2libcom_2src_2ring_2epicsRingBytes_8hdep" id="modules_2libcom_2src_2ring_2epicsRingBytes_8hdep">
<area shape="rect" id="node2" href="../../d6/d42/epicsRingBytes_8c.html" title="modules/libcom/src\l/ring/epicsRingBytes.c" alt="" coords="6,95,167,136"/>
</map>
</div>
</div>
<p><a href="../../d5/d4a/epicsRingBytes_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a211f75c5eb5a581fe681e8cdfb0b2e53"><td class="memItemLeft" align="right" valign="top">typedef void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a></td></tr>
<tr class="memdesc:a211f75c5eb5a581fe681e8cdfb0b2e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">An identifier for a ring buffer.  <a href="#a211f75c5eb5a581fe681e8cdfb0b2e53">More...</a><br /></td></tr>
<tr class="separator:a211f75c5eb5a581fe681e8cdfb0b2e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc6ed8078ea7ac17e7c97d636380f6d2"><td class="memItemLeft" align="right" valign="top">typedef void const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#afc6ed8078ea7ac17e7c97d636380f6d2">epicsRingBytesIdConst</a></td></tr>
<tr class="separator:afc6ed8078ea7ac17e7c97d636380f6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af0de288a0322d8d6d9026ef43c6fd7cf"><td class="memItemLeft" align="right" valign="top">LIBCOM_API <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf">epicsRingBytesCreate</a> (int nbytes)</td></tr>
<tr class="memdesc:af0de288a0322d8d6d9026ef43c6fd7cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new ring buffer.  <a href="#af0de288a0322d8d6d9026ef43c6fd7cf">More...</a><br /></td></tr>
<tr class="separator:af0de288a0322d8d6d9026ef43c6fd7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35844d500781c6d9249ae7f4cb6f8f79"><td class="memItemLeft" align="right" valign="top">LIBCOM_API <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a35844d500781c6d9249ae7f4cb6f8f79">epicsRingBytesLockedCreate</a> (int nbytes)</td></tr>
<tr class="memdesc:a35844d500781c6d9249ae7f4cb6f8f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new ring buffer, secured by a spinlock.  <a href="#a35844d500781c6d9249ae7f4cb6f8f79">More...</a><br /></td></tr>
<tr class="separator:a35844d500781c6d9249ae7f4cb6f8f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a6e4c3ce849b97669d6300283aded7"><td class="memItemLeft" align="right" valign="top">LIBCOM_API void epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a47a6e4c3ce849b97669d6300283aded7">epicsRingBytesDelete</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:a47a6e4c3ce849b97669d6300283aded7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the ring buffer and free any associated memory.  <a href="#a47a6e4c3ce849b97669d6300283aded7">More...</a><br /></td></tr>
<tr class="separator:a47a6e4c3ce849b97669d6300283aded7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d22ae003c1588c03e62798e55ab318"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a23d22ae003c1588c03e62798e55ab318">epicsRingBytesGet</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id, char *<a class="el" href="../../dc/d07/unionvalue.html">value</a>, int nbytes)</td></tr>
<tr class="memdesc:a23d22ae003c1588c03e62798e55ab318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data out of the ring buffer.  <a href="#a23d22ae003c1588c03e62798e55ab318">More...</a><br /></td></tr>
<tr class="separator:a23d22ae003c1588c03e62798e55ab318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4191b95710ea6dd9009d2650250be85"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#ad4191b95710ea6dd9009d2650250be85">epicsRingBytesPut</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id, char *<a class="el" href="../../dc/d07/unionvalue.html">value</a>, int nbytes)</td></tr>
<tr class="memdesc:ad4191b95710ea6dd9009d2650250be85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data into the ring buffer.  <a href="#ad4191b95710ea6dd9009d2650250be85">More...</a><br /></td></tr>
<tr class="separator:ad4191b95710ea6dd9009d2650250be85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43be9e37cc37d913d565dd92b6b8b30f"><td class="memItemLeft" align="right" valign="top">LIBCOM_API void epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a43be9e37cc37d913d565dd92b6b8b30f">epicsRingBytesFlush</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:a43be9e37cc37d913d565dd92b6b8b30f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the ring buffer empty.  <a href="#a43be9e37cc37d913d565dd92b6b8b30f">More...</a><br /></td></tr>
<tr class="separator:a43be9e37cc37d913d565dd92b6b8b30f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c59604aac903b4cae11476b0a34b0e4"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a3c59604aac903b4cae11476b0a34b0e4">epicsRingBytesFreeBytes</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:a3c59604aac903b4cae11476b0a34b0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of free bytes in the ring buffer.  <a href="#a3c59604aac903b4cae11476b0a34b0e4">More...</a><br /></td></tr>
<tr class="separator:a3c59604aac903b4cae11476b0a34b0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78b17ddb5d1600b2fa3d637e10ae08e"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#ae78b17ddb5d1600b2fa3d637e10ae08e">epicsRingBytesUsedBytes</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:ae78b17ddb5d1600b2fa3d637e10ae08e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of bytes currently stored in the ring buffer.  <a href="#ae78b17ddb5d1600b2fa3d637e10ae08e">More...</a><br /></td></tr>
<tr class="separator:ae78b17ddb5d1600b2fa3d637e10ae08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635062ce716bc829c7cd82e8ab742f05"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a635062ce716bc829c7cd82e8ab742f05">epicsRingBytesSize</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:a635062ce716bc829c7cd82e8ab742f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the size of the ring buffer.  <a href="#a635062ce716bc829c7cd82e8ab742f05">More...</a><br /></td></tr>
<tr class="separator:a635062ce716bc829c7cd82e8ab742f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac371d24e3a2cbb018cc4de2f13aaf5cb"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#ac371d24e3a2cbb018cc4de2f13aaf5cb">epicsRingBytesIsEmpty</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:ac371d24e3a2cbb018cc4de2f13aaf5cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the ring buffer is currently empty.  <a href="#ac371d24e3a2cbb018cc4de2f13aaf5cb">More...</a><br /></td></tr>
<tr class="separator:ac371d24e3a2cbb018cc4de2f13aaf5cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d7e16803e130d2a9f7f33d15351e8c"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#ac6d7e16803e130d2a9f7f33d15351e8c">epicsRingBytesIsFull</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:ac6d7e16803e130d2a9f7f33d15351e8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the ring buffer is currently full.  <a href="#ac6d7e16803e130d2a9f7f33d15351e8c">More...</a><br /></td></tr>
<tr class="separator:ac6d7e16803e130d2a9f7f33d15351e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ab471e62cb6834461f037f6adc054e0"><td class="memItemLeft" align="right" valign="top">LIBCOM_API int epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a2ab471e62cb6834461f037f6adc054e0">epicsRingBytesHighWaterMark</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#afc6ed8078ea7ac17e7c97d636380f6d2">epicsRingBytesIdConst</a> id)</td></tr>
<tr class="memdesc:a2ab471e62cb6834461f037f6adc054e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">See how full a ring buffer has been since it was last checked.  <a href="#a2ab471e62cb6834461f037f6adc054e0">More...</a><br /></td></tr>
<tr class="separator:a2ab471e62cb6834461f037f6adc054e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82aa347817d81418598f70cce0ca270"><td class="memItemLeft" align="right" valign="top">LIBCOM_API void epicsStdCall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#ae82aa347817d81418598f70cce0ca270">epicsRingBytesResetHighWaterMark</a> (<a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> id)</td></tr>
<tr class="memdesc:ae82aa347817d81418598f70cce0ca270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the Highwater mark of the ring buffer.  <a href="#ae82aa347817d81418598f70cce0ca270">More...</a><br /></td></tr>
<tr class="separator:ae82aa347817d81418598f70cce0ca270"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A circular buffer to store bytes. </p>
<dl class="section author"><dt>Author</dt><dd>Marty Kraimer, Eric Norum, Ralph Lange</dd></dl>
<p>EpicsRingBytes provides a C API for creating and using ring buffers (first in first out circular buffers) that store bytes. The unlocked variant is designed so that one writer thread and one reader thread can access the ring simultaneously without requiring mutual exclusion. The locked variant uses an epicsSpinLock, and works with any numbers of writer and reader threads. </p><dl class="section note"><dt>Note</dt><dd>If there is only one writer it is not necessary to lock for puts. If there is a single reader it is not necessary to lock for gets. epicsRingBytesLocked uses a spinlock. </dd></dl>

<p>Definition in file <a class="el" href="../../d5/d4a/epicsRingBytes_8h_source.html">epicsRingBytes.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a211f75c5eb5a581fe681e8cdfb0b2e53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An identifier for a ring buffer. </p>

<p>Definition at line <a class="el" href="../../d5/d4a/epicsRingBytes_8h_source.html#l00037">37</a> of file <a class="el" href="../../d5/d4a/epicsRingBytes_8h_source.html">epicsRingBytes.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc6ed8078ea7ac17e7c97d636380f6d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void const* <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#afc6ed8078ea7ac17e7c97d636380f6d2">epicsRingBytesIdConst</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d4a/epicsRingBytes_8h_source.html#l00038">38</a> of file <a class="el" href="../../d5/d4a/epicsRingBytes_8h_source.html">epicsRingBytes.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af0de288a0322d8d6d9026ef43c6fd7cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> epicsStdCall epicsRingBytesCreate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new ring buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbytes</td><td>Size of ring buffer to create </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Ring buffer Id or NULL on failure </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00044">44</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = malloc(<span class="keyword">sizeof</span>(<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a>) + size + <a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span>(!pring)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a> = size + <a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">highWaterMark</a> = 0;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a> = 0;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a> = 0;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>    = 0;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span>((<span class="keywordtype">void</span> *)pring);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="ttc" id="epicsRingBytes_8c_html_a84db69be977370101c543668d21fd075"><div class="ttname"><a href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a></div><div class="ttdeci">#define SLOP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00033">epicsRingBytes.c:33</a></div></div>
<div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="structringPvt_html_a9f937b54eb651ff1fecafbeb914a04ce"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">ringPvt::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00039">epicsRingBytes.c:39</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
<div class="ttc" id="structringPvt_html_a174c8b9e4de36fed90b36c9392a9be36"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">ringPvt::highWaterMark</a></div><div class="ttdeci">int highWaterMark</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00040">epicsRingBytes.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a47a6e4c3ce849b97669d6300283aded7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API void epicsStdCall epicsRingBytesDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the ring buffer and free any associated memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00066">66</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2087885cf05ea7bdf7cf68102750d7d9">epicsSpinDestroy</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    free((<span class="keywordtype">void</span> *)pring);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2087885cf05ea7bdf7cf68102750d7d9"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2087885cf05ea7bdf7cf68102750d7d9">epicsSpinDestroy</a></div><div class="ttdeci">LIBCOM_API void epicsSpinDestroy(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00054">osdSpin.c:54</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a43be9e37cc37d913d565dd92b6b8b30f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API void epicsStdCall epicsRingBytesFlush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make the ring buffer empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Should only be used when both gets and puts are locked out. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00169">169</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a> = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2d1331357862d3f308794a2192340c4c"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinLock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00059">osdSpin.c:59</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a4b805d864804a206c392f33f8bede479"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinUnlock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00081">osdSpin.c:81</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c59604aac903b4cae11476b0a34b0e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesFreeBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of free bytes in the ring buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of free bytes in the ring buffer </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00178">178</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">int</span> nextGet, nextPut;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    nextGet = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    nextPut = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (nextPut &lt; nextGet)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> nextGet - nextPut - <a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a> - nextPut + nextGet - <a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="epicsRingBytes_8c_html_a84db69be977370101c543668d21fd075"><div class="ttname"><a href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a></div><div class="ttdeci">#define SLOP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00033">epicsRingBytes.c:33</a></div></div>
<div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a9f937b54eb651ff1fecafbeb914a04ce"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">ringPvt::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00039">epicsRingBytes.c:39</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2d1331357862d3f308794a2192340c4c"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinLock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00059">osdSpin.c:59</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a4b805d864804a206c392f33f8bede479"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinUnlock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00081">osdSpin.c:81</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23d22ae003c1588c03e62798e55ab318"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data out of the ring buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
    <tr><td class="paramname">value</td><td>Where to put the data fetched from the buffer </td></tr>
    <tr><td class="paramname">nbytes</td><td>Maximum number of bytes to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes actually fetched </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00073">73</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">int</span> nextGet, nextPut, size;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">int</span> count;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    nextGet = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    nextPut = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    size = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (nextGet &lt;= nextPut) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        count = nextPut - nextGet;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">if</span> (count &lt; nbytes)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            nbytes = count;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">if</span> (nbytes)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            memcpy (<a class="code" href="../../dc/d07/unionvalue.html">value</a>, (<span class="keywordtype">void</span> *)&amp;pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">buffer</a>[nextGet], nbytes);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        nextGet += nbytes;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        count = size - nextGet;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (count &gt; nbytes)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            count = nbytes;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        memcpy (<a class="code" href="../../dc/d07/unionvalue.html">value</a>, (<span class="keywordtype">void</span> *)&amp;pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">buffer</a>[nextGet], count);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        nextGet += count;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span> (nextGet == size) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordtype">int</span> nLeft = nbytes - count;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">if</span> (nLeft &gt; nextPut)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                nLeft = nextPut;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            memcpy (<a class="code" href="../../dc/d07/unionvalue.html">value</a>+count, (<span class="keywordtype">void</span> *)&amp;pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">buffer</a>[0], nLeft);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            nextGet = nLeft;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            nbytes = count + nLeft;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            nbytes = count;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a> = nextGet;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> nbytes;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="ttc" id="unionvalue_html"><div class="ttname"><a href="../../dc/d07/unionvalue.html">value</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3c/link_8h_source.html#l00174">link.h:174</a></div></div>
<div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a9f937b54eb651ff1fecafbeb914a04ce"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">ringPvt::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00039">epicsRingBytes.c:39</a></div></div>
<div class="ttc" id="structringPvt_html_abc07df900f5df6754bcad3ed7d589c24"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">ringPvt::buffer</a></div><div class="ttdeci">volatile char buffer[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00041">epicsRingBytes.c:41</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2d1331357862d3f308794a2192340c4c"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinLock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00059">osdSpin.c:59</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a4b805d864804a206c392f33f8bede479"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinUnlock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00081">osdSpin.c:81</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ab471e62cb6834461f037f6adc054e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesHighWaterMark </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#afc6ed8078ea7ac17e7c97d636380f6d2">epicsRingBytesIdConst</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See how full a ring buffer has been since it was last checked. </p>
<p>Returns the maximum amount of data the ring buffer has held in bytes since the water mark was last reset. A new ring buffer starts with a water mark of 0. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Actual Highwater mark </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00235">235</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">highWaterMark</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a174c8b9e4de36fed90b36c9392a9be36"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">ringPvt::highWaterMark</a></div><div class="ttdeci">int highWaterMark</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00040">epicsRingBytes.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac371d24e3a2cbb018cc4de2f13aaf5cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesIsEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if the ring buffer is currently empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the buffer is empty, otherwise 0 </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00218">218</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">int</span> isEmpty;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    isEmpty = (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a> == pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> isEmpty;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2d1331357862d3f308794a2192340c4c"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinLock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00059">osdSpin.c:59</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a4b805d864804a206c392f33f8bede479"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinUnlock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00081">osdSpin.c:81</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6d7e16803e130d2a9f7f33d15351e8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesIsFull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if the ring buffer is currently full. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the buffer is full, otherwise 0 </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00230">230</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a3c59604aac903b4cae11476b0a34b0e4">epicsRingBytesFreeBytes</a>(<span class="keywordtype">id</span>) &lt;= 0);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div><div class="ttc" id="epicsRingBytes_8c_html_a3c59604aac903b4cae11476b0a34b0e4"><div class="ttname"><a href="../../d6/d42/epicsRingBytes_8c.html#a3c59604aac903b4cae11476b0a34b0e4">epicsRingBytesFreeBytes</a></div><div class="ttdeci">LIBCOM_API int epicsStdCall epicsRingBytesFreeBytes(epicsRingBytesId id)</div><div class="ttdoc">Return the number of free bytes in the ring buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00178">epicsRingBytes.c:178</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35844d500781c6d9249ae7f4cb6f8f79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a> epicsStdCall epicsRingBytesLockedCreate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new ring buffer, secured by a spinlock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbytes</td><td>Size of ring buffer to create </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Ring buffer Id or NULL on failure </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00057">57</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a962319b6cce41e0d43ac226ec8596b2e">epicsRingBytesCreate</a>(size);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span>(!pring)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a> = <a class="code" href="../../d1/d63/epicsSpin_8h.html#a1113eec3a8b073acf496931bc9bf91a1">epicsSpinCreate</a>();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span>((<span class="keywordtype">void</span> *)pring);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="catime_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d5/dbc/catime_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/catime_8c_source.html#l00038">catime.c:38</a></div></div>
<div class="ttc" id="epicsRingBytes_8c_html_a962319b6cce41e0d43ac226ec8596b2e"><div class="ttname"><a href="../../d6/d42/epicsRingBytes_8c.html#a962319b6cce41e0d43ac226ec8596b2e">epicsRingBytesCreate</a></div><div class="ttdeci">LIBCOM_API epicsRingBytesId epicsStdCall epicsRingBytesCreate(int size)</div><div class="ttdoc">Create a new ring buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00044">epicsRingBytes.c:44</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a1113eec3a8b073acf496931bc9bf91a1"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a1113eec3a8b073acf496931bc9bf91a1">epicsSpinCreate</a></div><div class="ttdeci">LIBCOM_API epicsSpinId epicsSpinCreate(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00028">osdSpin.c:28</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4191b95710ea6dd9009d2650250be85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesPut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data into the ring buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
    <tr><td class="paramname">value</td><td>Source of the data to be put into the buffer </td></tr>
    <tr><td class="paramname">nbytes</td><td>How many bytes to put </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes actually stored, zero if not enough space </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00117">117</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">int</span> nextGet, nextPut, size;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">int</span> freeCount, copyCount, topCount, used;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    nextGet = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    nextPut = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    size = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (nextPut &lt; nextGet) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        freeCount = nextGet - nextPut - <a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">if</span> (nbytes &gt; freeCount) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (nbytes) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            memcpy ((<span class="keywordtype">void</span> *)&amp;pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">buffer</a>[nextPut], <a class="code" href="../../dc/d07/unionvalue.html">value</a>, nbytes);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        nextPut += nbytes;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        freeCount = size - nextPut + nextGet - <a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (nbytes &gt; freeCount) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        topCount = size - nextPut;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        copyCount = (nbytes &gt; topCount) ?  topCount : nbytes;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (copyCount) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            memcpy ((<span class="keywordtype">void</span> *)&amp;pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">buffer</a>[nextPut], <a class="code" href="../../dc/d07/unionvalue.html">value</a>, copyCount);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        nextPut += copyCount;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span> (nextPut == size) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordtype">int</span> nLeft = nbytes - copyCount;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (nLeft)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                memcpy ((<span class="keywordtype">void</span> *)&amp;pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">buffer</a>[0], <a class="code" href="../../dc/d07/unionvalue.html">value</a>+copyCount, nLeft);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            nextPut = nLeft;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a> = nextPut;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    used = nextPut - nextGet;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (used &lt; 0) used += pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (used &gt; pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">highWaterMark</a>) pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">highWaterMark</a> = used;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> nbytes;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div><div class="ttc" id="unionvalue_html"><div class="ttname"><a href="../../dc/d07/unionvalue.html">value</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3c/link_8h_source.html#l00174">link.h:174</a></div></div>
<div class="ttc" id="epicsRingBytes_8c_html_a84db69be977370101c543668d21fd075"><div class="ttname"><a href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a></div><div class="ttdeci">#define SLOP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00033">epicsRingBytes.c:33</a></div></div>
<div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a9f937b54eb651ff1fecafbeb914a04ce"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">ringPvt::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00039">epicsRingBytes.c:39</a></div></div>
<div class="ttc" id="structringPvt_html_abc07df900f5df6754bcad3ed7d589c24"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abc07df900f5df6754bcad3ed7d589c24">ringPvt::buffer</a></div><div class="ttdeci">volatile char buffer[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00041">epicsRingBytes.c:41</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2d1331357862d3f308794a2192340c4c"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinLock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00059">osdSpin.c:59</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a4b805d864804a206c392f33f8bede479"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinUnlock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00081">osdSpin.c:81</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
<div class="ttc" id="structringPvt_html_a174c8b9e4de36fed90b36c9392a9be36"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">ringPvt::highWaterMark</a></div><div class="ttdeci">int highWaterMark</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00040">epicsRingBytes.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae82aa347817d81418598f70cce0ca270"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API void epicsStdCall epicsRingBytesResetHighWaterMark </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the Highwater mark of the ring buffer. </p>
<p>The Highwater mark will be set to the current usage </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00241">241</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">int</span> used;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    used = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a> - pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (used &lt; 0) used += pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">highWaterMark</a> = used;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a9f937b54eb651ff1fecafbeb914a04ce"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">ringPvt::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00039">epicsRingBytes.c:39</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2d1331357862d3f308794a2192340c4c"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinLock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00059">osdSpin.c:59</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a4b805d864804a206c392f33f8bede479"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinUnlock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00081">osdSpin.c:81</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
<div class="ttc" id="structringPvt_html_a174c8b9e4de36fed90b36c9392a9be36"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a174c8b9e4de36fed90b36c9392a9be36">ringPvt::highWaterMark</a></div><div class="ttdeci">int highWaterMark</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00040">epicsRingBytes.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a635062ce716bc829c7cd82e8ab742f05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the size of the ring buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the size of the ring buffer, i.e., nbytes specified in the call to <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a>. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00211">211</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span> pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a> - <a class="code" href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div><div class="ttc" id="epicsRingBytes_8c_html_a84db69be977370101c543668d21fd075"><div class="ttname"><a href="../../d6/d42/epicsRingBytes_8c.html#a84db69be977370101c543668d21fd075">SLOP</a></div><div class="ttdeci">#define SLOP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00033">epicsRingBytes.c:33</a></div></div>
<div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a9f937b54eb651ff1fecafbeb914a04ce"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">ringPvt::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00039">epicsRingBytes.c:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae78b17ddb5d1600b2fa3d637e10ae08e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LIBCOM_API int epicsStdCall epicsRingBytesUsedBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#a211f75c5eb5a581fe681e8cdfb0b2e53">epicsRingBytesId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of bytes currently stored in the ring buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>RingbufferID returned by <a class="el" href="../../d5/d4a/epicsRingBytes_8h.html#af0de288a0322d8d6d9026ef43c6fd7cf" title="Create a new ring buffer. ">epicsRingBytesCreate()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes currently stored in the ring buffer </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html#l00194">194</a> of file <a class="el" href="../../d6/d42/epicsRingBytes_8c_source.html">epicsRingBytes.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *pring = (<a class="code" href="../../d6/de5/structringPvt.html">ringPvt</a> *)<span class="keywordtype">id</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">int</span> nextGet, nextPut;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">int</span> used;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    nextGet = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">nextGet</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    nextPut = pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">nextPut</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>) <a class="code" href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a>(pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">lock</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    used = nextPut - nextGet;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (used &lt; 0) used += pring-&gt;<a class="code" href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">size</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> used;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="ttc" id="structringPvt_html"><div class="ttname"><a href="../../d6/de5/structringPvt.html">ringPvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00035">epicsRingBytes.c:35</a></div></div>
<div class="ttc" id="structringPvt_html_a9f937b54eb651ff1fecafbeb914a04ce"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a9f937b54eb651ff1fecafbeb914a04ce">ringPvt::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00039">epicsRingBytes.c:39</a></div></div>
<div class="ttc" id="structringPvt_html_a4f78b1717fa6449f54071c1cf87729b5"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a4f78b1717fa6449f54071c1cf87729b5">ringPvt::nextPut</a></div><div class="ttdeci">volatile int nextPut</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00037">epicsRingBytes.c:37</a></div></div>
<div class="ttc" id="structringPvt_html_a1ce26c19c31470768cd58a620215ea62"><div class="ttname"><a href="../../d6/de5/structringPvt.html#a1ce26c19c31470768cd58a620215ea62">ringPvt::nextGet</a></div><div class="ttdeci">volatile int nextGet</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00038">epicsRingBytes.c:38</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a2d1331357862d3f308794a2192340c4c"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a2d1331357862d3f308794a2192340c4c">epicsSpinLock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinLock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00059">osdSpin.c:59</a></div></div>
<div class="ttc" id="epicsSpin_8h_html_a4b805d864804a206c392f33f8bede479"><div class="ttname"><a href="../../d1/d63/epicsSpin_8h.html#a4b805d864804a206c392f33f8bede479">epicsSpinUnlock</a></div><div class="ttdeci">LIBCOM_API void epicsSpinUnlock(epicsSpinId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d18/default_2osdSpin_8c_source.html#l00081">osdSpin.c:81</a></div></div>
<div class="ttc" id="structringPvt_html_abefee770101e4702ecb0c8541913bdd9"><div class="ttname"><a href="../../d6/de5/structringPvt.html#abefee770101e4702ecb0c8541913bdd9">ringPvt::lock</a></div><div class="ttdeci">epicsSpinId lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d42/epicsRingBytes_8c_source.html#l00036">epicsRingBytes.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li><li class="navelem"><a class="el" href="../../dir_66ad26243ee5b9e4435a8c38b71879e0.html">libcom</a></li><li class="navelem"><a class="el" href="../../dir_3c26cc65c6aeedab9756b68f4c64367b.html">src</a></li><li class="navelem"><a class="el" href="../../dir_0bfdf2fae75f8f3da1883d8574ce19ac.html">ring</a></li><li class="navelem"><a class="el" href="../../d5/d4a/epicsRingBytes_8h.html">epicsRingBytes.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
